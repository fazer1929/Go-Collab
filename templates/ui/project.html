{% extends 'ui/layout.html' %} {% block body%}
<!-- Listing Grid View -->
<section class="our-listing bgc-f7 pb30-991">
	<div class="container">
		<div class="row">
			<div class="col-lg-12">
				<div class="listing_sidebar dn db-991">
					<div class="sidebar_content_details style3">
						<!-- <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a> -->
						<div class="sidebar_listing_list style2 mobile_sytle_sidebar mb0">
							<div class="sidebar_advanced_search_widget">
								<h4 class="mb25">
									Advanced Search
									<a class="filter_closed_btn float-right" href="#"
										><small>Hide Filter</small>
										<span class="flaticon-close"></span
									></a>
								</h4>
								<ul class="sasw_list style2 mb0">
									<li class="search_area">
										<div class="form-group">
											<input
												type="text"
												class="form-control"
												id="exampleInputEmail"
												placeholder="Email"
											/>
											<label for="exampleInputEmail"
												><span class="flaticon-magnifying-glass"></span
											></label>
										</div>
									</li>
									<li>
										<div class="search_option_two">
											<div class="candidate_revew_select">
												<select class="selectpicker w100 show-tick">
													<option>Language</option>
													<option>HTML</option>
													<option>JAVA</option>
													<option>PYTHON</option>
													<option>C++</option>
													<option>C</option>
													<option>Kotlin</option>
												</select>
											</div>
										</div>
									</li>
									<li>
										<div class="search_option_two">
											<div class="candidate_revew_select">
												<select class="selectpicker w100 show-tick">
													<option>Members</option>
													<option>1</option>
													<option>2</option>
													<option>3</option>
													<option>4+</option>
												</select>
											</div>
										</div>
									</li>

									<li class="max_area list-inline-item">
										<div class="form-group">
											<input
												type="text"
												class="form-control"
												id="exampleInputName3"
												placeholder="TAGS"
											/>
										</div>
									</li>

									<li>
										<div class="search_option_button">
											<button type="submit" class="btn btn-block btn-thm">
												Search
											</button>
										</div>
									</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-6">
				<div class="breadcrumb_content style2 mb0-991">
					<ol class="breadcrumb">
						<li class="breadcrumb-item"><a href="#">Home</a></li>
						<li class="breadcrumb-item active text-thm" aria-current="page">
							Projects
						</li>
					</ol>
					<h2 class="breadcrumb_title">Projects</h2>
				</div>
			</div>
			<div class="col-lg-6">
				<div class="dn db-991 mt30 mb0">
					<div id="main2">
						<span
							id="open2"
							class="flaticon-filter-results-button filter_open_btn style2"
						>
							Show Filter</span
						>
					</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-4 col-xl-4">
				<div class="sidebar_listing_grid1 dn-991">
					<div class="sidebar_listing_list">
						<div class="sidebar_advanced_search_widget">
							<ul class="sasw_list mb0">
								<li class="search_area">
									<div class="form-group">
										<input
											type="text"
											class="form-control"
											id="exampleInputEmail"
											placeholder="Email"
										/>
										<label for="exampleInputEmail"
											><span class="flaticon-magnifying-glass"></span
										></label>
									</div>
								</li>
								<li>
									<div class="search_option_two">
										<div class="candidate_revew_select">
											<select class="selectpicker w100 show-tick">
												<option>Language</option>
												<option>HTML</option>
												<option>JAVA</option>
												<option>PYTHON</option>
												<option>C++</option>
												<option>C</option>
												<option>Kotlin</option>
											</select>
										</div>
									</div>
								</li>
								<li>
									<div class="search_option_two">
										<div class="candidate_revew_select">
											<select class="selectpicker w100 show-tick">
												<option>Members</option>
												<option>1</option>
												<option>2</option>
												<option>3</option>
												<option>4+</option>
											</select>
										</div>
									</div>
								</li>

								<li>
									<div class="search_option_button">
										<button type="submit" class="btn btn-block btn-thm">
											Search
										</button>
									</div>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
			<div class="col-md-12 col-lg-8">
				<div class="row">
					{% for project in projects%}
					<div class="col-lg-12" >
						<div class="feat_property list" style="padding: 20px">
							<div class="tc_content">
								<div class="dtls_headr">
									<a class="fp_price" href="#"
										><button type="button" class="btn btn-lg btn-primary" onclick="sendReq('{{project.id}}','{{request.user.id}}')">
											Apply
										</button></a
									>
								</div>
								<a href="{%url 'project-detail' id=project.id%}"><h3>{{project.name}}</h3></a>

								<p>{{project.description}}</p>
								<strong>
								<ul class="prop_details mb0">
									<li class="list-inline-item"><a href="#">c++</a></li>
									<li class="list-inline-item"><a href="#"></a>c</li>
								</ul>
								<div class="fp_footer">
									<ul class="fp_meta float-left mb0">
										<li class="list-inline-item">
										
												<a href="#">{{project.owner}}</a>
										</li>
									</ul>
									<div class="fp_pdate float-right">{{project.created_at}}</div>
											</strong>

								</div>
							</div>
						</div>
					</div>

					{%endfor%}

					<!-- <div class="col-lg-12 mt20">
						<div class="mbp_pagination">
							<ul class="page_navigation">
								<li class="page-item disabled">
									<a
										class="page-link"
										href="#"
										tabindex="-1"
										aria-disabled="true"
									>
										<span class="flaticon-left-arrow"></span> Prev</a
									>
								</li>
								<li class="page-item"><a class="page-link" href="#">1</a></li>
								<li class="page-item active" aria-current="page">
									<a class="page-link" href="#"
										>2 <span class="sr-only">(current)</span></a
									>
								</li>
								<li class="page-item"><a class="page-link" href="#">3</a></li>
								<li class="page-item"><a class="page-link" href="#">...</a></li>
								<li class="page-item"><a class="page-link" href="#">29</a></li>
								<li class="page-item">
									<a class="page-link" href="#"
										><span class="flaticon-right-arrow"></span
									></a>
								</li>
							</ul>
						</div>
					</div> -->
				</div>
			</div>
		</div>
	</div>
</section>
<script>
	function sendReq(pid,uid){
		data={
			cmd:"add_appr",
			user_id:parseInt(uid),
			project_id:parseInt(pid),
		}
		url="{{request.host}}/addaprove/"
		postData(url,data).then(data => console.log(data))
	}
	async function postData(url = '', data = {}) {
  // Default options are marked with *
  const response = await fetch(url, {
    method: 'POST', // *GET, POST, PUT, DELETE, etc.
    mode: 'cors', // no-cors, *cors, same-origin
    cache: 'no-cache', 
    credentials: 'same-origin', 
    headers: {
      'Content-Type': 'application/json'
     ,
    },
    redirect: 'follow',
    referrerPolicy: 'no-referrer',
    body: JSON.stringify(data) 
  });
  return response.json();
}
</script>
{%endblock body%}
